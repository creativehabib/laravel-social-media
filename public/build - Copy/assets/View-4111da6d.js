import{T as I,j as f,Q as E,h as L,o as s,c as d,w as a,a as e,u as o,Z as O,b as t,k as K,v as Q,t as w,f as n,g as _,d as h,F as C,l as $}from"./app-8a1ff713.js";import{_ as Y}from"./AuthenticatedLayout-58d86ad8.js";import v from"./TabItem-36080219.js";import Z from"./Edit-6602dfd0.js";import{_ as q}from"./PrimaryButton-4951ad11.js";import{D as G}from"./DeleteUserForm-4dbdd736.js";import{_ as H}from"./CreatePost-3bc9e0e4.js";import{_ as J,a as A}from"./PostList-bca80cac.js";import{_ as V}from"./TextInput-0d41f712.js";import W from"./TabPhotos-afc778a3.js";import{r as B}from"./transition-3ca82db8.js";import{r as T,a as X,I as ee,y as g,S as te,g as p,x as se}from"./tabs-1b746d5a.js";import"./ApplicationLogo-6577eed8.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./UpdatePasswordForm-67979eca.js";import"./InputLabel-64216001.js";import"./UpdateProfileInformationForm-76c562c9.js";import"./PostModal-9aa825e0.js";import"./BaseModal-b216c2d5.js";import"./AttachmentPreviewModal-0e7c2918.js";const le={class:"max-w-[768px] mx-auto h-full overflow-auto"},oe={class:"px-4"},ae={key:0,class:"my-2 py-2 px-3 font-medium text-sm bg-red-400 text-white"},re={class:"group relative bg-white dark:bg-slate-950 dark:text-gray-100"},ne=["src"],ce={class:"absolute top-2 right-2"},ie={key:0,class:"bg-gray-50 hover:bg-gray-100 text-gray-800 py-1 px-2 text-xs flex items-center opacity-0 group-hover:opacity-100"},ue=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 mr-2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})],-1),de={key:1,class:"flex gap-2 bg-white p-2 opacity-0 group-hover:opacity-100"},me={class:"flex"},fe={class:"flex items-center justify-center relative group/avatar -mt-[64px] ml-[48px] w-[128px] h-[128px] rounded-full"},he=["src"],ve={key:0,class:"absolute left-0 top-0 right-0 bottom-0 bg-black/50 text-gray-200 rounded-full opacity-0 flex items-center justify-center group-hover/avatar:opacity-100"},ge={key:1,class:"absolute top-1 right-0 flex flex-col gap-2"},pe={class:"flex justify-between items-center flex-1 p-4"},ye={class:"font-bold text-lg"},xe={class:"text-xs text-gray-500"},we={key:0},_e={class:"border-t m-4 mt-0"},be={key:1,class:"py-8 text-center dark:text-gray-100"},ke={class:"mb-3"},Ce={key:0,class:"grid grid-cols-2 gap-3"},je={key:1,class:"text-center py-8"},Se={class:"mb-3"},Fe={key:0,class:"grid grid-cols-2 gap-3"},Ue={key:1,class:"text-center py-8"},Ge={__name:"View",props:{errors:Object,mustVerifyEmail:{type:Boolean},status:{type:String},success:{type:String},isCurrentUserFollower:Boolean,followerCount:Number,user:{type:Object},posts:Object,followers:Array,followings:Array,photos:Array},setup(l){const c=I({avatar:null,cover:null}),m=f(!0),y=f(""),x=f(""),D=f(""),N=f(""),j=E().props.auth.user,b=L(()=>j&&j.id===k.user.id),k=l;function M(u){if(c.cover=u.target.files[0],c.cover){const i=new FileReader;i.onload=()=>{y.value=i.result},i.readAsDataURL(c.cover)}}function P(u){if(c.avatar=u.target.files[0],c.avatar){const i=new FileReader;i.onload=()=>{x.value=i.result},i.readAsDataURL(c.avatar)}}function S(){c.cover=null,y.value=null}function F(){c.avatar=null,x.value=null}function R(){c.post(route("profile.updateImages"),{preserveScroll:!0,onSuccess:u=>{m.value=!0,S(),setTimeout(()=>{m.value=!1},3e3)}})}function z(){c.post(route("profile.updateImages"),{preserveScroll:!0,onSuccess:u=>{m.value=!0,F(),setTimeout(()=>{m.value=!1},3e3)}})}function U(){I({follow:!k.isCurrentUserFollower}).post(route("user.follow",k.user.id),{preserveScroll:!0})}return(u,i)=>(s(),d(Y,null,{default:a(()=>[e(o(O),{title:l.user.name},null,8,["title"]),t("div",le,[t("div",oe,[K(t("div",{class:"my-2 py-2 px-3 font-medium text-sm bg-emerald-500 text-white"},w(l.success),513),[[Q,m.value&&l.success]]),l.errors.cover?(s(),n("div",ae,w(l.errors.cover),1)):_("",!0),t("div",re,[t("img",{src:y.value||l.user.cover_url||"/img/default_cover.jpg",class:"w-full h-[200px] object-cover"},null,8,ne),t("div",ce,[y.value?(s(),n("div",de,[t("button",{onClick:S,class:"bg-gray-50 hover:bg-gray-100 text-gray-800 py-1 px-2 text-xs flex items-center"},[e(o(B),{class:"h-3 w-3 mr-2"}),h(" Cancel ")]),t("button",{onClick:R,class:"bg-gray-800 hover:bg-gray-900 text-gray-100 py-1 px-2 text-xs flex items-center"},[e(o(T),{class:"h-3 w-3 mr-2"}),h(" Submit ")])])):(s(),n("button",ie,[ue,h(" Update Cover Image "),t("input",{type:"file",class:"absolute left-0 top-0 bottom-0 right-0 opacity-0",onChange:M},null,32)]))]),t("div",me,[t("div",fe,[t("img",{src:x.value||l.user.avatar_url||"/img/default_avatar.webp",class:"w-full h-full object-cover rounded-full"},null,8,he),x.value?(s(),n("div",ge,[t("button",{onClick:F,class:"w-7 h-7 flex items-center justify-center bg-red-500/80 text-white rounded-full"},[e(o(B),{class:"h-5 w-5"})]),t("button",{onClick:z,class:"w-7 h-7 flex items-center justify-center bg-emerald-500/80 text-white rounded-full"},[e(o(T),{class:"h-5 w-5"})])])):(s(),n("button",ve,[e(o(X),{class:"w-8 h-8"}),t("input",{type:"file",class:"absolute left-0 top-0 bottom-0 right-0 opacity-0",onChange:P},null,32)]))]),t("div",pe,[t("div",null,[t("h2",ye,w(l.user.name),1),t("p",xe,w(l.followerCount)+" follower(s)",1)]),b.value?_("",!0):(s(),n("div",we,[l.isCurrentUserFollower?(s(),d(G,{key:1,onClick:U},{default:a(()=>[h(" Unfollow User ")]),_:1})):(s(),d(q,{key:0,onClick:U},{default:a(()=>[h(" Follow User ")]),_:1}))]))])])])]),t("div",_e,[e(o(se),null,{default:a(()=>[e(o(ee),{class:"flex bg-white dark:bg-slate-950 dark:text-white"},{default:a(()=>[e(o(g),{as:"template"},{default:a(({selected:r})=>[e(v,{text:"Posts",selected:r},null,8,["selected"])]),_:1}),e(o(g),{as:"template"},{default:a(({selected:r})=>[e(v,{text:"Followers",selected:r},null,8,["selected"])]),_:1}),e(o(g),{as:"template"},{default:a(({selected:r})=>[e(v,{text:"Followings",selected:r},null,8,["selected"])]),_:1}),e(o(g),{as:"template"},{default:a(({selected:r})=>[e(v,{text:"Photos",selected:r},null,8,["selected"])]),_:1}),b.value?(s(),d(o(g),{key:0,as:"template"},{default:a(({selected:r})=>[e(v,{text:"My Profile",selected:r},null,8,["selected"])]),_:1})):_("",!0)]),_:1}),e(o(te),{class:"mt-2"},{default:a(()=>[e(o(p),null,{default:a(()=>[l.posts?(s(),n(C,{key:0},[e(H),e(J,{posts:l.posts.data,class:"flex-1"},null,8,["posts"])],64)):(s(),n("div",be," You don't have permission to view these posts. "))]),_:1}),e(o(p),null,{default:a(()=>[t("div",ke,[e(V,{"model-value":D.value,placeholder:"Type to search",class:"w-full rounded-md"},null,8,["model-value"])]),l.followers.length?(s(),n("div",Ce,[(s(!0),n(C,null,$(l.followers,r=>(s(),d(A,{user:r,key:r.id,class:"shadow rounded-lg"},null,8,["user"]))),128))])):(s(),n("div",je," User does not have followers. "))]),_:1}),e(o(p),null,{default:a(()=>[t("div",Se,[e(V,{"model-value":N.value,placeholder:"Type to search",class:"w-full rounded-md"},null,8,["model-value"])]),l.followings.length?(s(),n("div",Fe,[(s(!0),n(C,null,$(l.followings,r=>(s(),d(A,{user:r,key:r.id,class:"shadow rounded-lg"},null,8,["user"]))),128))])):(s(),n("div",Ue," The user is not following to anybody "))]),_:1}),e(o(p),null,{default:a(()=>[e(W,{photos:l.photos},null,8,["photos"])]),_:1}),b.value?(s(),d(o(p),{key:0},{default:a(()=>[e(Z,{"must-verify-email":l.mustVerifyEmail,status:l.status},null,8,["must-verify-email","status"])]),_:1})):_("",!0)]),_:1})]),_:1})])])]),_:1}))}};export{Ge as default};
